<!DOCTYPE html>
<html>
<head>
<title>Track Cycle | BloomCycle</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body{
  font-family:'Poppins',sans-serif;
  background: linear-gradient(135deg,#fbc2eb,#a6c1ee);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  color:white;
}

.card{
  background:rgba(255,255,255,0.2);
  backdrop-filter: blur(20px);
  padding:35px;
  border-radius:20px;
  width:100%;
  max-width:450px;
}

h1{
  text-align:center;
  margin-bottom:20px;
}

label{
  display:block;
  margin-top:15px;
  margin-bottom:5px;
}

input{
  width:100%;
  padding:10px;
  border:none;
  border-radius:12px;
  background:rgba(255,255,255,0.3);
  color:white;
}

button{
  margin-top:20px;
  width:100%;
  padding:12px;
  border:none;
  border-radius:15px;
  background:white;
  color:#a18cd1;
  font-weight:600;
  cursor:pointer;
}

.result{
  margin-top:20px;
  padding:15px;
  background:rgba(255,255,255,0.3);
  border-radius:15px;
  display:none;
}
</style>
</head>

<body>
  
  <div style="margin-bottom:20px;">
  <a href ="Dashboard.html"> Back to Dashboard</a>
</div>

<div class="card">
  <h1>Track Your Cycle ðŸŒ¸</h1>

  <form id="trackForm">

    <label>Last Period Start Date</label>
    <input type="date" id="lastPeriod" required>

    <label>Average Cycle Length (days)</label>
    <input type="number" id="cycleLength" value="28" min="21" max="35" required>

    <button type="submit">Calculate</button>
  </form>

  <div class="result" id="resultBox">
    <p><strong>Next Period:</strong> <span id="nextPeriod"></span></p>
    <p><strong>Estimated Ovulation:</strong> <span id="ovulationDate"></span></p>
  </div>

</div>

<script>

document.getElementById("trackForm").addEventListener("submit", function(e){
  e.preventDefault();

  const lastPeriod = new Date(document.getElementById("lastPeriod").value);
  const cycleLength = parseInt(document.getElementById("cycleLength").value);

  if (!lastPeriod || !cycleLength) {
    alert("Please fill all fields.");
    return;
  }

  // Calculate next period
  const nextPeriod = new Date(lastPeriod);
  nextPeriod.setDate(nextPeriod.getDate() + cycleLength);

  // Ovulation (14 days before next period)
  const ovulation = new Date(nextPeriod);
  ovulation.setDate(ovulation.getDate() - 14);

  // Show results
  document.getElementById("nextPeriod").innerText =
    nextPeriod.toDateString();

  document.getElementById("ovulationDate").innerText =
    ovulation.toDateString();

  document.getElementById("resultBox").style.display = "block";

  // Save to localStorage
  localStorage.setItem("lastPeriod", lastPeriod.toISOString());
  localStorage.setItem("cycleLength", cycleLength);
  localStorage.setItem("nextPeriod", nextPeriod.toISOString());
  localStorage.setItem("ovulationDate", ovulation.toISOString());
});

</script>

</body>
</html>
